<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Perfect Diet & Meal Planner - Plan your meals, discover recipes, and track nutrition" />
  <meta name="keywords" content="Perfect Diet, meal planner, nutrition tracker, healthy eating, meal planner app" />
  <title>Perfect Diet & Meal Planner - Home</title>

  <!-- CSS Links -->
  <link rel="stylesheet" href="css/styles.css" />
  <link rel="stylesheet" href="css/responsive.css" />
  <link rel="stylesheet" href="css/animations.css" />

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet" />
</head>
<body>
  <!-- Skip link for keyboard users -->
  <a class="skip-link" href="#mainContent">Skip to content</a>

  <!-- Header & Navigation -->
  <header class="main-header" role="banner">
    <nav class="navbar" role="navigation" aria-label="Main navigation">
      <div class="nav-container">
        <div class="logo">
          <h1>
            <span aria-hidden="true">🍽️</span>
            MealPlanner
          </h1>
        </div>

        <button
          class="menu-toggle"
          id="menuToggle"
          aria-label="Toggle menu"
          aria-controls="navMenu"
          aria-expanded="false"
          type="button"
        >
          <span aria-hidden="true"></span>
          <span aria-hidden="true"></span>
          <span aria-hidden="true"></span>
        </button>

        <ul class="nav-menu" id="navMenu">
          <li><a href="index.html" class="active">Home</a></li>
          <li><a href="search.html">Discover</a></li>
          <li><a href="meal-planner.html">Meal Plan</a></li>
          <li><a href="shopping-list.html">Shopping</a></li>
          <li><a href="#favorites">Favorites</a></li>
        </ul>
      </div>
    </nav>
  </header>

  <!-- Main Content -->
  <main id="mainContent" class="main-content" role="main">
    <!-- Welcome Section -->
    <section id="welcome" class="welcome-section">
      <div class="container">
        <h2>Welcome back, User! 👋</h2>
        <p>Let's plan some delicious meals today</p>
      </div>
    </section>

    <!-- Today's Meals Section -->
    <section id="todays-meals" class="todays-meals">
      <div class="container">
        <h3>Today's Meals</h3>
        <div class="meals-grid" role="list">
          <!-- Breakfast Card -->
          <article class="meal-card" id="breakfast" role="listitem" aria-labelledby="breakfastLabel">
            <div class="meal-header">
              <span class="meal-icon" aria-hidden="true">🌅</span>
              <h4 id="breakfastLabel">Breakfast</h4>
            </div>
            <div class="meal-content">
              <p class="empty-meal">+ Add Breakfast</p>
            </div>
          </article>

          <!-- Lunch Card -->
          <article class="meal-card" id="lunch" role="listitem" aria-labelledby="lunchLabel">
            <div class="meal-header">
              <span class="meal-icon" aria-hidden="true">🌞</span>
              <h4 id="lunchLabel">Lunch</h4>
            </div>
            <div class="meal-content">
              <p class="empty-meal">+ Add Lunch</p>
            </div>
          </article>

          <!-- Dinner Card -->
          <article class="meal-card" id="dinner" role="listitem" aria-labelledby="dinnerLabel">
            <div class="meal-header">
              <span class="meal-icon" aria-hidden="true">🌙</span>
              <h4 id="dinnerLabel">Dinner</h4>
            </div>
            <div class="meal-content">
              <p class="empty-meal">+ Add Dinner</p>
            </div>
          </article>
        </div>
      </div>
    </section>

    <!-- Nutrition Summary Section -->
    <section id="nutrition-summary" class="nutrition-summary">
      <div class="container">
        <h3>Today's Nutrition</h3>
        <div class="nutrition-stats">
          <div class="stat-card" role="region" aria-label="Calories summary">
            <div class="stat-header">
              <span class="stat-label">Calories</span>
              <span class="stat-value" id="caloriesValue">0 / 2000</span>
            </div>
            <div class="progress-bar" role="progressbar" aria-valuemin="0" aria-valuemax="2000" aria-valuenow="0" aria-labelledby="caloriesValue">
              <div class="progress-fill" id="caloriesProgress" style="width: 0%"></div>
            </div>
          </div>

          <div class="macros-grid" role="group" aria-label="Macronutrients">
            <div class="macro-item" role="status" aria-live="polite">
              <span class="macro-label">Protein</span>
              <span class="macro-value" id="proteinValue">0g</span>
            </div>
            <div class="macro-item" role="status" aria-live="polite">
              <span class="macro-label">Carbs</span>
              <span class="macro-value" id="carbsValue">0g</span>
            </div>
            <div class="macro-item" role="status" aria-live="polite">
              <span class="macro-label">Fat</span>
              <span class="macro-value" id="fatValue">0g</span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Recommended Recipes Section -->
    <section id="recommended-recipes" class="recommended-recipes">
      <div class="container">
        <div class="section-header">
          <h3>Recommended for You</h3>
          <a href="search.html" class="view-all-link">View All →</a>
        </div>

        <div class="recipes-grid" id="recommendedRecipes" aria-live="polite">
          <div class="loading-message">Loading recipes...</div>
        </div>
      </div>
    </section>

    <section id="favorites" class="favorites-section">
      <div class="container">
        <h3>Your Favorites</h3>
        <p class="muted">No favorites yet — save recipes to see them here.</p>
        <div class="favorites-grid" aria-live="polite"></div>
      </div>
    </section>

    <section id="quick-actions" class="quick-actions">
      <div class="container">
        <h3>Quick Actions</h3>
        <div class="actions-grid">
          <a href="search.html" class="action-card">
            <span class="action-icon" aria-hidden="true">🔍</span>
            <h4>Find Recipes</h4>
            <p>Search thousands of recipes</p>
          </a>

          <a href="meal-planner.html" class="action-card">
            <span class="action-icon" aria-hidden="true">📅</span>
            <h4>Plan Meals</h4>
            <p>Create your weekly plan</p>
          </a>

          <a href="shopping-list.html" class="action-card">
            <span class="action-icon" aria-hidden="true">🛒</span>
            <h4>Shopping List</h4>
            <p>View your grocery list</p>
          </a>

          <button class="action-card surprise-btn" id="surpriseMe" type="button" aria-pressed="false">
            <span class="action-icon" aria-hidden="true">🎲</span>
            <h4>Surprise Me</h4>
            <p>Get a random recipe</p>
          </button>
        </div>
      </div>
    </section>
  </main>

  <footer class="main-footer" role="contentinfo">
    <div class="container">
      <p>&copy; 2025 Perfect Diet & Meal Planner. All rights reserved.</p>
      <p>Powered by Spoonacular API</p>
    </div>
  </footer>

  <!-- JavaScript Files -->
  <script src="js/config.js" defer></script>
  <script src="js/utils.js" defer></script>
  <script src="js/storage.js" defer></script>
  <script src="js/api.js" defer></script>
  <script src="js/recipe.js" defer></script>
  <script src="js/main.js" defer></script>

  <!-- Menu Toggle -->
  <script>
    (function () {
      const btn = document.getElementById('menuToggle');
      const nav = document.getElementById('navMenu');
      if (!btn || !nav) return;
      btn.addEventListener('click', function () {
        const expanded = btn.getAttribute('aria-expanded') === 'true';
        btn.setAttribute('aria-expanded', String(!expanded));
        nav.classList.toggle('open');
      });
    })();
  </script>

  <!-- ✅ Dynamic Data Loader -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      fetch('data.json')
        .then(response => response.json())
        .then(data => {
          data.meals.forEach(meal => {
            const section = document.getElementById(meal.id);
            const content = section.querySelector('.meal-content');
            content.innerHTML = ''; // clear "+ Add" text

            meal.items.forEach(item => {
              const p = document.createElement('p');
              p.textContent = item;
              content.appendChild(p);
            });
          });
        })
        .catch(error => console.error('Error loading meal data:', error));
    });
  </script>
</body>
</html>
